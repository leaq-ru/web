<template>
  <b-container
    class="text-center"
    fluid="xl"
  >
    <Header />
    <Breadcrumb :items="breadcrumb" />

    <b-alert
      :show="info"
      variant="info"
    >
      –ß—Ç–æ–±—ã –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω—É–∂–Ω–æ –∑–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç
    </b-alert>

    <h2>
      –í–æ–π—Ç–∏ –Ω–∞ LEAQ
    </h2>

    <p>
      –ï—Å–ª–∏ –≤–∏–¥–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å AdBlock
    </p>

    <div class="d-flex flex-row justify-content-center align-items-center">
      <div id="vk_auth" />
    </div>

    <script type="text/javascript">
      VK.init({
      apiId: 7646708,
      });

      VK.Widgets.Auth("vk_auth", {
      authUrl: '/login/vk',
      });
    </script>
    <Footer />
  </b-container>
</template>

<script lang="ts">
import Vue from 'vue'
import { Context } from '@nuxt/types'

export default Vue.extend({
  asyncData (ctx: Context): object {
    return {
      info: Boolean(ctx?.route?.query?.info),
      to: String(ctx?.route?.query?.to)
    }
  },
  data () {
    return {
      breadcrumb: [{
        id: 1,
        text: 'üè†',
        to: {
          path: '/'
        }
      }, {
        id: 2,
        text: '–í–æ–π—Ç–∏',
        to: {
          path: '/login'
        }
      }]
    }
  },
  head () {
    return {
      title: '–í–æ–π—Ç–∏ / –ö–∞—Ç–∞–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–π LEAQ',
      meta: [{
        hid: 'description',
        name: 'description',
        content: '–í–æ–π—Ç–∏ –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ LEAQ'
      }]
    }
  }
})
</script>
